{% extends 'base.html.twig' %}

{% block title %}Liste des Formations
{% endblock %}

{% block body %}
	<div class="container mx-auto px-4 sm:px-8">
		<div class="py-8">
			<h1 class="text-2xl font-semibold leading-tight">Liste des Formations</h1>
			<div class="my-2 flex sm:flex-row flex-col">
				<div class="flex flex-row mb-1 sm:mb-0">
					<div class="relative">
						<a href="{{ path('app_formation_new') }}" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
							Nouvelle Formation
						</a>
					</div>
				</div>
			</div>
			<div class="-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto">
				<div class="inline-block min-w-full shadow rounded-lg overflow-hidden">
					<table class="min-w-full leading-normal">
						<thead>
							<tr>
								<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
									Titre
								</th>
								<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
									Organisation
								</th>
								<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
									Description
								</th>
								<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
									Date de début
								</th>
								<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
									Date de fin
								</th>
								<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
									Diplôme
								</th>
								<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
									Actions
								</th>
							</tr>
						</thead>
						<tbody>
							{% if formations is defined and formations is not empty %}
								{% for formation in formations %}
									<tr>
										<td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
											<p class="text-gray-900 whitespace-no-wrap">{{ formation.title }}</p>
										</td>
										<td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
											<p class="text-gray-900 whitespace-no-wrap">{{ formation.organization }}</p>
										</td>
										<td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
											{% for text in formation.description %}
												<p class="text-gray-900 whitespace-no-wrap">{{text}}
												</p>
											{% endfor %}
										</td>
										<td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
											<p class="text-gray-900 whitespace-no-wrap">{{ formation.dateStart}}</p>
										</td>
										<td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
											<p class="text-gray-900 whitespace-no-wrap">{{ formation.dateEnd}}</p>
										</td>
										<td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
											<p class="text-gray-900 whitespace-no-wrap">{{ formation.degree }}</p>
										</td>
										<td class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
											<a href="{{ path('app_formation_show', {'id': formation.id}) }}" class="text-blue-600 hover:text-blue-900 mr-2">Voir</a>
											<a href="{{ path('app_formation_edit', {'id': formation.id}) }}" class="text-green-600 hover:text-green-900">Modifier</a>
										</td>
									</tr>
								{% endfor %}
							{% else %}
								<tr>
									<td colspan="6" class="px-5 py-5 border-b border-gray-200 bg-white text-sm">
										<p class="text-gray-900 whitespace-no-wrap text-center">Aucune formation trouvée</p>
									</td>
								</tr>
							{% endif %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
{% endblock %}